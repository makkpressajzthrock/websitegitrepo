name: Auto Deploy
on:
  # Triggers the workflow on push or pull request events but only for the main branch
  push:
    branches: [ main ]
  workflow_dispatch:
  
# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
    deploy_job:
    runs-on: ubuntu-latest
    name: deploy
    steps:
        - name: Checkout
          uses: actions/checkout@v2
        - name: Deploy file
          uses: wlixcc/SFTP-Deploy-Action@v1.2.4
          with:
            username: root #${{ secrets.USERNAME }}
            server: 24.199.105.142 #${{ secrets.HOST }}
            port: 22 #${{ secrets.PORT }}
            local_path: ./* # default is ./*
            # files will copy to under remote_path
            remote_path: /var/www/html
            sftp_only: true
            password: makk@123Aa #${{ secrets.PASSWORD }}